# هيكل المشروع - الجزء الثاني

### 2. نموذج البيانات (Data Model)

#### نموذج الدواء (Pill)
يمثل هذا النموذج دواءً واحداً ويحتوي على:
- **معرف فريد (id)**: رقم تعريفي فريد لكل دواء
- **الاسم (name)**: اسم الدواء
- **الوصف (description)**: وصف يتضمن الجرعة ونوع الدواء
- **اللون (color)**: لون مرئي لتمييز الدواء
- **الأوقات (times)**: قائمة من كائنات TimeOfDay تمثل أوقات تناول الدواء
- **الأيام (days)**: قائمة من الأرقام تمثل أيام الأسبوع التي يتم فيها تناول الدواء
- **حالة التنشيط (isActive)**: تشير إلى ما إذا كانت تذكيرات الدواء نشطة
- **آخر تناول (lastTaken)**: خريطة تسجل آخر وقت تم فيه تناول الدواء
- **تاريخ الإشعار (notificationDate)**: التاريخ والوقت للإشعار القادم

#### نوع الدواء (MedicineType)
يمثل هذا النموذج أنواع الأدوية المختلفة (حبوب، كبسولات، شراب، إلخ) مع:
- **الاسم (name)**: اسم نوع الدواء بالإنجليزية
- **الاسم العربي (arabicName)**: اسم نوع الدواء بالعربية
- **قائمة الأنواع (medicineTypes)**: قائمة معرفة مسبقاً بجميع أنواع الأدوية المدعومة

### 3. طبقة قاعدة البيانات (Database Layer)

#### قاعدة بيانات الأدوية (PillsDatabase)
تدير قاعدة البيانات المحلية باستخدام SQLite مع:
- **إنشاء جدول الأدوية**: يحدد هيكل جدول الأدوية في قاعدة البيانات
- **عمليات CRUD**: إضافة، قراءة، تحديث، وحذف بيانات الأدوية
- **معالجة البيانات**: تحويل البيانات بين نماذج Dart وأشكال قاعدة البيانات
- **تخزين الأوقات**: تخزين أوقات الدواء كسلسلة JSON في قاعدة البيانات
- **تخزين الأيام**: تخزين أيام الأسبوع كسلسلة JSON في قاعدة البيانات

#### المستودع (Repository)
يعمل كواجهة بين طبقة واجهة المستخدم وقاعدة البيانات:
- **تجريد قاعدة البيانات**: يخفي تفاصيل تنفيذ قاعدة البيانات
- **مزامنة البيانات**: يضمن تزامن واتساق البيانات عبر التطبيق
- **عمليات الأعمال**: يحتوي على المنطق التجاري للعمليات المعقدة